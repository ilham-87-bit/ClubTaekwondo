<!DOCTYPE html>
<html lang="" xmlns:th="http://www.thymeleaf.org">
<head th:replace="head">
</head>
<body>
<header th:replace="header">
</header>
<main>
    <div class="container-body">
        <div class="card-body">
            <th:block th:with="hasMySubscription=${!#lists.isEmpty(list)}">
                <th:block th:if="!${#lists.isEmpty(list)}">
                    <div class="card-body card-border">
                        <table id="subscriptionListTable"
                               class="table table-fixed table-striped"
                               th:classappend="${list} ? 'table-hover'">
                            <thead>
                            <tr>
                                <th class="text-center cell--twenty">
                                    <span> Eleve </span>
                                </th>
                                <th class="text-center cell--twenty">
                                    <span> Ecole </span>
                                </th>
                                <th class="text-center cell--twenty">
                                    <span> Catégorie </span>
                                </th>
                                <th class="text-center cell--twenty">
                                    Périod d'abonnement
                                </th>
                                <th class="text-center cell--twenty">
                                </th>
                                <th class="text-center cell--twenty">
                                </th>
                            </tr>
                            </thead>
                            <tbody class="list" id="studentList">
                            <th:block th:if="${hasMySubscription}">
                                <tr th:each="l, row : ${list}" class="js-row-link-alt">
                                    <td align="center">
                                        <span class="my-4 text-uppercase"
                                              th:text="${l?.student?.firstName} + ' ' + ${l?.student?.name}"></span>
                                    </td>
                                    <td align="center">
                                        <span class="my-4 text-uppercase"
                                              th:text="${l?.school?.name}"></span>
                                    </td>
                                    <td align="center">
                                            <span class="my-4 text-uppercase"
                                                  th:text="${l?.categories?.categoryName}"></span>
                                    </td>
                                    <td align="center">
                                        <span th:text="${T(com.clubtaekwondo.club.controller.user.StudentController).formatDate(l?.startDate)} + '  -   ' + ${T(com.clubtaekwondo.club.controller.user.StudentController).formatDate(l?.endDate)}"></span>
                                    </td>
                                    <td th:unless="${l?.newSubscription}" align="center">
                                        <a class="btn btn-dark"
                                           th:href="@{(${'/user/myTime/' + l.idSubscription})}">
                                            Mes Horaires </a>
                                        <a class="btn btn-dark"
                                           th:href="@{(${'/user/personList/' + l.idSubscription})}">
                                            Personne de contact </a>
                                    </td>
                                    <td th:if="${l?.newSubscription}" align="center">
                                        <a class="btn btn-dark"
                                           th:href="@{(${'/user/renewSubscription/' + l.idSubscription})}">
                                            Renouveler </a>
                                    </td>
                                </tr>
                            </th:block>
                            </tbody>
                        </table>
                    </div>
                </th:block>
                <th:block th:unless="!${#lists.isEmpty(list)}">
                    <h5 class="align-content-center text-center">Vous n'avez pas d'abonnement </h5>
                </th:block>
                <form>
                    <div class="card-footer">
                        <div class="row align-items-end justify-content-end">
                            <div class="col-auto">
                                <input id="impression" name="impression" class="btn btn-dark" type="button"
                                       onclick="printPage()"
                                       value="Imprimer"/>
                            </div>
                        </div>
                    </div>
                </form>
            </th:block>
        </div>
    </div>
</main>
<footer class="footer" th:replace="footer">
</footer>
</body>
</html>